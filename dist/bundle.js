(()=>{"use strict";const e=(e,t=0)=>Math.ceil(Math.random()*(e-t)+t),t=(e,t=[])=>{const s=document.createElement(e);return t.length>0&&t.forEach((e=>{s.classList.add(e)})),s},s={start:{text:["–ß–∞—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ [time], –∫–æ–≥–¥–∞ [player1] –∏ [player2] –±—Ä–æ—Å–∏–ª–∏ –≤—ã–∑–æ–≤ –¥—Ä—É–≥ –¥—Ä—É–≥—É."],recordSettings:["rgba(9, 172, 9, 0.2)","üî™"],audio:{firstPart:"",lastPart:" function () { }"}},end:{text:["[time] - –†–µ–∑—É–ª—å—Ç–∞—Ç —É–¥–∞—Ä–∞ [playerWins]: [playerLose] - —Ç—Ä—É–ø","[time] - [playerLose] –ø–æ–≥–∏–± –æ—Ç —É–¥–∞—Ä–∞ –±–æ–π—Ü–∞ [playerWins]","[time] - –†–µ–∑—É–ª—å—Ç–∞—Ç –±–æ—è: [playerLose] - –∂–µ—Ä—Ç–≤–∞, [playerWins] - —É–±–∏–π—Ü–∞"],recordSettings:["rgba(9, 172, 9, 0.2)","üíÄ"],audio:{firstPart:"./assets/sound/sound_wins/",lastPart:function(){return"victory.mp3"}}},hit:{text:["[time] - [playerDefense] –ø—ã—Ç–∞–ª—Å—è —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –Ω–æ [playerKick] —Ä–∞–∑–±–µ–∂–∞–≤—à–∏—Å—å —Ä–∞–∑–¥—Ä–æ–±–∏–ª –∫–æ–ø—á–∏–∫–æ–º –ª–µ–≤–æ–µ —É—Ö–æ –≤—Ä–∞–≥–∞.","[time] - [playerDefense] —Ä–∞—Å—Å—Ç—Ä–æ–∏–ª—Å—è, –∫–∞–∫ –≤–¥—Ä—É–≥, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ [playerKick] —Å–ª—É—á–∞–π–Ω–æ —Ä–∞–∑–¥—Ä–æ–±–∏–ª –≥—Ä—É–¥—å—é –≥—Ä—É–¥–∏–Ω—É –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.","[time] - [playerDefense] –∑–∞–∂–º—É—Ä–∏–ª—Å—è, –∞ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick], –ø—Ä–æ—Å–ª–µ–∑–∏–≤—à–∏—Å—å, —Ä–∞–∑–¥—Ä–æ–±–∏–ª –∫—É–ª–∞–∫–æ–º –ø–∞—Ö –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.","[time] - [playerDefense] —á–µ—Å–∞–ª <–≤—ã—Ä–µ–∑–∞–Ω–æ —Ü–µ–Ω–∑—É—Ä–æ–π>, –∏ –≤–Ω–µ–∑–∞–ø–Ω–æ –Ω–µ—É—Å—Ç—Ä–∞—à–∏–º—ã–π [playerKick] –æ—Ç—á–∞—è–Ω–Ω–æ —Ä–∞–∑–º–æ–∑–∂–∏–ª –≥—Ä—É–¥—å—é –ª–µ–≤—ã–π –±–∏—Ü–µ–ø—Å –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.","[time] - [playerDefense] –∑–∞–¥—É–º–∞–ª—Å—è, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick] —Å–ª—É—á–∞–π–Ω–æ –≤–ª–µ–ø–∏–ª –≥—Ä—É–±—ã–π —É–¥–∞—Ä –∫–æ–ø—á–∏–∫–æ–º –≤ –ø–æ—è—Å –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.","[time] - [playerDefense] –∫–æ–≤—ã—Ä—è–ª—Å—è –≤ –∑—É–±–∞—Ö, –Ω–æ [playerKick] –ø—Ä–æ—Å–Ω—É–≤—à–∏—Å—å –≤–ª–µ–ø–∏–ª —Ç—è–∂–µ–ª—ã–π —É–¥–∞—Ä –ø–∞–ª—å—Ü–µ–º –≤ –∫–∞–¥—ã–∫ –≤—Ä–∞–≥–∞.","[time] - [playerDefense] –≤—Å–ø–æ–º–Ω–∏–ª —á—Ç–æ-—Ç–æ –≤–∞–∂–Ω–æ–µ, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick] –∑–µ–≤–Ω—É–≤, —Ä–∞–∑–º–æ–∑–∂–∏–ª –æ—Ç–∫—Ä—ã—Ç–æ–π –ª–∞–¥–æ–Ω—å—é —á–µ–ª—é—Å—Ç—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.","[time] - [playerDefense] –æ—Å–º–æ—Ç—Ä–µ–ª—Å—è, –∏ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick] –º–∏–º–æ—Ö–æ–¥–æ–º —Ä–∞–∑–¥—Ä–æ–±–∏–ª —Å—Ç–æ–ø–æ–π –∞–ø–ø–µ–Ω–¥–∏–∫—Å —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.","[time] - [playerDefense] –∫–∞—à–ª—è–Ω—É–ª, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick] –ø–æ–∫–∞–∑–∞–≤ –ø–∞–ª–µ—Ü, —Ä–∞–∑–º–æ–∑–∂–∏–ª –ø–∞–ª—å—Ü–µ–º –≥—Ä—É–¥—å —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.","[time] - [playerDefense] –ø—ã—Ç–∞–ª—Å—è —á—Ç–æ-—Ç–æ —Å–∫–∞–∑–∞—Ç—å, –∞ –∂–µ—Å—Ç–æ–∫–∏–π [playerKick] –ø—Ä–æ—Å–Ω—É–≤—à–∏—Å—å —Ä–∞–∑–º–æ–∑–∂–∏–ª –∫–æ–ø—á–∏–∫–æ–º –ª–µ–≤—É—é –Ω–æ–≥—É –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.","[time] - [playerDefense] –∑–∞–±—ã–ª—Å—è, –∫–∞–∫ –≤–Ω–µ–∑–∞–ø–Ω–æ –±–µ–∑—É–º–Ω—ã–π [playerKick] —Å–æ —Å–∫—É–∫–∏, –≤–ª–µ–ø–∏–ª —É–¥–∞—Ä –∫–æ–ª–µ–Ω–æ–º –≤ –ª–µ–≤—ã–π –±–æ–∫ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.","[time] - [playerDefense] –ø–æ–ø–µ—Ä—Ö–Ω—É–ª—Å—è, –∞ –∑–∞ —ç—Ç–æ [playerKick] –º–∏–º–æ—Ö–æ–¥–æ–º —Ä–∞–∑–¥—Ä–æ–±–∏–ª –∫–æ–ª–µ–Ω–æ–º –≤–∏—Å–æ–∫ –≤—Ä–∞–≥–∞.","[time] - [playerDefense] —Ä–∞—Å—Å—Ç—Ä–æ–∏–ª—Å—è, –∞ –≤ —ç—Ç–æ –≤—Ä–µ–º—è –Ω–∞–≥–ª—ã–π [playerKick] –ø–æ—à–∞—Ç–Ω—É–≤—à–∏—Å—å —Ä–∞–∑–º–æ–∑–∂–∏–ª –∫–æ–ø—á–∏–∫–æ–º –≥—É–±—ã –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.","[time] - [playerDefense] –æ—Å–º–æ—Ç—Ä–µ–ª—Å—è, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick] —Ä–æ–±–∫–æ —Ä–∞–∑–º–æ–∑–∂–∏–ª –∫–æ–ª–µ–Ω–æ–º –ª–µ–≤—ã–π –≥–ª–∞–∑ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.","[time] - [playerDefense] –æ—Å–º–æ—Ç—Ä–µ–ª—Å—è, –∞ [playerKick] –≤–ª–æ–º–∏–ª –¥—Ä–æ–±—è—â–∏–π —É–¥–∞—Ä –ø–ª–µ—á–æ–º, –ø—Ä–æ–±–∏–≤ –±–ª–æ–∫, –∫—É–¥–∞ –æ–±—ã—á–Ω–æ –Ω–µ –±—å—é—Ç –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.","[time] - [playerDefense] –∫–æ–≤—ã—Ä—è–ª—Å—è –≤ –∑—É–±–∞—Ö, –∫–∞–∫ –≤–¥—Ä—É–≥, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ [playerKick] –æ—Ç—á–∞—è–Ω–Ω–æ —Ä–∞–∑–º–æ–∑–∂–∏–ª –ø–ª–µ—á–æ–º –º—ã—à—Ü—ã –ø—Ä–µ—Å—Å–∞ –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.","[time] - [playerDefense] –ø—Ä–∏—à–µ–ª –≤ —Å–µ–±—è, –∏ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick] –ø—Ä–æ–≤–µ–ª —Ä–∞–∑–±–∏–≤–∞—é—â–∏–π —É–¥–∞—Ä –∫–∏—Å—Ç—å—é —Ä—É–∫–∏, –ø—Ä–æ–±–∏–≤ –±–ª–æ–∫, –≤ –≥–æ–ª–µ–Ω—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.","[time] - [playerDefense] –ø–æ—à–∞—Ç–Ω—É–ª—Å—è, –∞ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick] —Ö–∏—Ö–∏–∫–∞—è –≤–ª–µ–ø–∏–ª –≥—Ä—É–±—ã–π —É–¥–∞—Ä –æ—Ç–∫—Ä—ã—Ç–æ–π –ª–∞–¥–æ–Ω—å—é –ø–æ –±–µ–¥—Ä–∞–º –≤—Ä–∞–≥–∞."],recordSettings:["rgba(225, 13, 3, 0.2)","‚ö°",'<img src="/assets/icons/11.gif" alt="üí£">'],audio:{firstPart:"./assets/sound/hitsounds/mk3-00",lastPart:function(){return`${e(36,10)}${5*e(1)}.mp3`}}},defense:{text:["[time] - [playerKick] –ø–æ—Ç–µ—Ä—è–ª –º–æ–º–µ–Ω—Ç –∏ —Ö—Ä–∞–±—Ä—ã–π [playerDefense] –æ—Ç–ø—Ä—ã–≥–Ω—É–ª –æ—Ç —É–¥–∞—Ä–∞ –æ—Ç–∫—Ä—ã—Ç–æ–π –ª–∞–¥–æ–Ω—å—é –≤ –∫–ª—é—á–∏—Ü—É.","[time] - [playerKick] –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª —Å–∏—Ç—É–∞—Ü–∏—é, –∏ –ø–æ—Ç–æ–º—É [playerDefense] –ø–æ—Å—Ç–∞–≤–∏–ª –±–ª–æ–∫ –Ω–∞ —É–¥–∞—Ä –ø—è—Ç–∫–æ–π –≤ –ø—Ä–∞–≤—É—é –≥—Ä—É–¥—å.","[time] - [playerKick] –ø–æ—Ç–µ—Ä—è–ª –º–æ–º–µ–Ω—Ç –∏ [playerDefense] –ø–æ—Å—Ç–∞–≤–∏–ª –±–ª–æ–∫ –Ω–∞ —É–¥–∞—Ä –∫–æ–ª–µ–Ω–æ–º –ø–æ —Å–µ–ª–µ–∑–µ–Ω–∫–µ.","[time] - [playerKick] –ø–æ—Å–∫–æ–ª—å–∑–Ω—É–ª—Å—è –∏ –∑–∞–¥—É–º—á–∏–≤—ã–π [playerDefense] –ø–æ—Å—Ç–∞–≤–∏–ª –±–ª–æ–∫ –Ω–∞ —Ç—ã—á–æ–∫ –≥–æ–ª–æ–≤–æ–π –≤ –±—Ä–æ–≤—å.","[time] - [playerKick] —Å—Ç–∞—Ä–∞–ª—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ —É–¥–∞—Ä, –Ω–æ –Ω–µ–ø–æ–±–µ–¥–∏–º—ã–π [playerDefense] —É—à–µ–ª –≤ —Å—Ç–æ—Ä–æ–Ω—É –æ—Ç —É–¥–∞—Ä–∞ –∫–æ–ø—á–∏–∫–æ–º –ø—Ä—è–º–æ –≤ –ø—è—Ç–∫—É.","[time] - [playerKick] –æ–±–º–∞–Ω—É–ª—Å—è –∏ –∂–µ—Å—Ç–æ–∫–∏–π [playerDefense] –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª —É–¥–∞—Ä —Å—Ç–æ–ø–æ–π –≤ —Å–æ–ª–Ω–µ—á–Ω–æ–µ —Å–ø–ª–µ—Ç–µ–Ω–∏–µ.","[time] - [playerKick] –Ω–µ –¥—É–º–∞–ª –æ –±–æ–µ, –ø–æ—Ç–æ–º—É —Ä–∞—Å—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π [playerDefense] –æ—Ç–ø—Ä—ã–≥–Ω—É–ª –æ—Ç —É–¥–∞—Ä–∞ –∫—É–ª–∞–∫–æ–º –∫—É–¥–∞ –æ–±—ã—á–Ω–æ –Ω–µ –±—å—é—Ç.","[time] - [playerKick] –æ–±–º–∞–Ω—É–ª—Å—è –∏ –∂–µ—Å—Ç–æ–∫–∏–π [playerDefense] –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª —É–¥–∞—Ä —Å—Ç–æ–ø–æ–π –≤ —Å–æ–ª–Ω–µ—á–Ω–æ–µ —Å–ø–ª–µ—Ç–µ–Ω–∏–µ."],recordSettings:["rgba(7, 13, 225, 0.2)","üöß",'<img src="/assets/icons/08.gif" alt="üîí">'],audio:{firstPart:"./assets/sound/block/mk3-09",lastPart:function(){return`${e(4,1)}.mp3`}}},draw:{text:["–ù–∏—á—å—è - —ç—Ç–æ —Ç–æ–∂–µ –ø–æ–±–µ–¥–∞!"],recordSettings:["rgba(253, 216, 3, 0.3)","ü§ù"],audio:{firstPart:"./assets/sound/wins/",lastPart:function(){return"draw.mp3"}}}};function a({name:a,value:n},{name:r,hp:i,dealType:o}){const l=document.querySelector(".chat"),c=t("p");let p=0,d="";p=e(s[o].text.length-1),d="hit"===o?`${s[o].text[p]} - ${n} - [${i}/100]`:s[o].text[p],c.innerHTML=` ${s[o].recordSettings[1]} ${function(e,t,s){const a=(new Date).toLocaleTimeString();return e.replace(/\[player(1|Kick|Wins)\]/gi,` <span>${t.toUpperCase()}</span>`).replace(/\[player(2|Defense|Lose)\]/gi,` <span> ${s.toUpperCase()} </span> `).replace("[time]",` ‚åö ${a} `)}(d,a,r)}`,c.style.background=s[o].recordSettings[0],l.insertAdjacentElement("afterbegin",c)}const n={hit:["1.png","2.png","3.png","4.png","5.png","6.png","7.png","8.png","9.png"],defense:["block.gif"]};class r{constructor({player:e,name:t,img:s}){this.player=e,this.name=t,this.hp=15,this.img=s}changeHP=({value:e})=>{this.hp<e?this.hp=0:this.hp-=e};elHP=()=>document.querySelector(`.player${this.player} .life`);renderHP=e=>{e.style.width=`${this.hp}%`};showHitMsg({hit:t,dealType:s}){const a=e(n[s].length-1),r=`./assets/messages/${s}/${n[s][a]}`,i=document.querySelector(`.bang.fighter${this.player}`),o=30*(d.indexOf(t)+1);i.src=r,i.style.top=(o>30?o-30:15)+"%",setTimeout((()=>{i.src=""}),2e3)}}const i=new class{getPlayers=async e=>await fetch(e).then((e=>e.json()));postAttackData=async(e,t)=>{const s=await fetch(e,{method:"POST",body:JSON.stringify(t)}).then((e=>e.json()));return await s}},o='\n<div class="title title__choice">SELECT YOUR FIGHTERS</div><div class="warrior"></div><div class="parent"></div>\n';function l(e){new Audio(e).play()}function c(e){return`${s[e].audio.firstPart}${s[e].audio.lastPart()}`}const p={KABAL:{winsound:"09225.mp3",winState:"../assets/chars/win/kabal_wins.png",loseState:"../assets/chars/lose/KABAL.gif"},JAX:{winsound:"09230.mp3",winState:"../assets/chars/win/JAX_wins.gif",loseState:"../assets/chars/lose/JAX.gif"},KANO:{winsound:"09235.mp3",winState:"../assets/chars/win/KANO_wins.png",loseState:"../assets/chars/lose/KANO.gif"},RAIN:{winsound:"09145.mp3",winState:"../assets/chars/win/RAIN_wins.png",loseState:"../assets/chars/lose/RAIN.gif"},"LIU KANG":{winsound:"09245.mp3",winState:"../assets/chars/win/LIU-KANG_wins.png",loseState:"../assets/chars/lose/LIU-KANG.gif"},"NOOB SAIBOT":{winsound:"09145.mp3",winState:"../assets/chars/win/NOOB-SAIBOT_wins.png",loseState:"../assets/chars/lose/NOOB-SAIBOT.gif"},"SHANG TSUNG":{winsound:"09255.mp3",winState:"../assets/chars/win/SHANG-TSUNG_wins.png",loseState:"../assets/chars/lose/SHANG-TSUNG.gif"},"SUB-ZERO":{winsound:"09280.mp3",winState:"../assets/chars/win/SUB-ZERO_wins.png",loseState:"../assets/chars/lose/SUB-ZERO.gif"},SMOKE:{winsound:"09265.mp3",winState:"../assets/chars/win/SMOKE_wins.png",loseState:"../assets/chars/lose/SMOKE.gif"},SONYA:{winsound:"09270.mp3",winState:"../assets/chars/win/SONYA_wins.png",loseState:"../assets/chars/lose/SONYA.gif"},STRYKER:{winsound:"09275.mp3",winState:"../assets/chars/win/SRTYKER_wins.png",loseState:"../assets/chars/lose/SRTYKER.gif"},"SUB-ZERO":{winsound:"09280.mp3",winState:"../assets/chars/win/SUB-ZERO_wins.png",loseState:"../assets/chars/lose/SUB-ZERO.gif"},"KUNG LAO":{winsound:"09285.mp3",winState:"../assets/chars/win/KUNG-LAO_wins.gif",loseState:"../assets/chars/lose/KUNG-LAO.gif"},CYRAX:{winsound:"09290.mp3",winState:"../assets/chars/win/CYRAX_wins.png",loseState:"../assets/chars/lose/CYRAX.gif"},"NIGHT WOLF":{winsound:"09295.mp3",winState:"../assets/chars/win/NIGHT-WOLF_wins.png",loseState:"../assets/chars/lose/NIGHT-WOLF.gif"},SEKTOR:{winsound:"09300.mp3",winState:"../assets/chars/win/SECTOR_wins.gif",loseState:"../assets/chars/lose/SECTOR.gif"},SINDEL:{winsound:"09305.mp3",winState:"../assets/chars/win/SINDEL_wins.png",loseState:"../assets/chars/lose/SINDEL.gif"},ERMAC:{winsound:"21010.mp3",winState:"../assets/chars/win/ERMAC_wins.png",loseState:"../assets/chars/lose/ERMAC.gif"},KITANA:{winsound:"21025.mp3",winState:"../assets/chars/win/KITANA_wins.png",loseState:"../assets/chars/lose/KITANA.gif"},MILEENA:{winsound:"21055.mp3",winState:"../assets/chars/win/MILEENA_wins.png",loseState:"../assets/chars/lose/MILEENA.gif"},JADE:{winsound:"21075.mp3",winState:"../assets/chars/win/JADE_wins.png",loseState:"../assets/chars/lose/JADE.gif"},REPTILE:{winsound:"21090.mp3",winState:"../assets/chars/win/REPTILE_wins.gif",loseState:"../assets/chars/lose/REPTILE.gif"},SCORPION:{winsound:"21125.mp3",winState:"../assets/chars/win/SCORPION_wins.png",loseState:"../assets/chars/lose/SCORPION.gif"}},d=["head","body","foot"];let h,u;const m={head:30,body:25,foot:20};(new class{constructor(){this.$CONTENT=document.querySelector(".content")}init(){window.addEventListener("DOMContentLoaded",(()=>{this.startPage()})),document.querySelector(".logo")}startPage(e=1500){this.performSequentialAction(e).then((()=>{const e=document.querySelector(".logo");return e.classList.add("off"),setTimeout((()=>{e.style.zIndex="-1"}),3e3),this.performSequentialAction(1e3)})).then((()=>(this.addRoster(),this.performSequentialAction(3e3)))).then((()=>{this.operateDoors()}))}async addRoster(){localStorage.removeItem("player1"),localStorage.removeItem("player2"),this.insertHTMLcode(".content",o);const e=await i.getPlayers("https://reactmarathon-api.herokuapp.com/api/mk/players");this.createEmptyPlayerBlock(),e.forEach((s=>{const a=t("div",["fighter-ava",`div${s.id}`]),n=t("img");n.src=s.avatar,n.alt=s.name,a.appendChild(n),document.querySelector(".parent").appendChild(a),a.addEventListener("mousemove",(()=>{this.showHideChoosenCharacter(null,s)})),a.addEventListener("mouseout",(()=>{this.showHideChoosenCharacter(null,s)})),a.addEventListener("click",(t=>{this.chooseCharacterForPlayer(t,s),this.chooseCharacterForOpponent(e),this.transitionScenes(".content",'\n    <div class = "arena__wrapper">\n    <div class="arenas">\n    <img class="fight__img" src="../assets/fight.gif" alt="fight logo">\n    <form class="control"><div class="inputWrap"><h2>HIT</h2><div class="ul"><input type="radio" name="hit" value="head" id="headHit" required/> <label for="headHit"><span>HEAD</span></label><input type="radio" name="hit" value="body" id="bodyHit"  required /><label for="bodyHit"><span>BODY</span></label><input type="radio" name="hit" value="foot" id="footHit" required /> <label for="footHit"> <span>FOOT</span> </label> </div> </div> <div class="inputWrap">\n            <h2>defense</h2>\n            <div class="ul">\n              <input\n                type="radio"\n                name="defense"\n                value="head"\n                id="headDefense"\n                required\n              />\n              <label for="headDefense">\n                <span>HEAD</span>\n              </label>\n              <input\n                type="radio"\n                name="defense"\n                value="body"\n                id="bodyDefense"\n                required\n              />\n              <label for="bodyDefense">\n                <span>BODY</span>\n              </label>\n              <input\n                type="radio"\n                name="defense"\n                value="foot"\n                id="footDefense"\n                required\n              />\n              <label for="footDefense">\n                <span>FOOT</span>\n              </label>\n            </div>\n          </div>\n          <div class="buttonWrap">\n            <button class="button" type="submit" id="Fight">Fight</button>\n          </div>\n        </form>\n      </div>\n      <div class="chat">\n      </div>\n    </div>\n')}))}))}insertHTMLcode(e,t){document.querySelector(e).innerHTML=t}createEmptyPlayerBlock(){const e=t("div",["fighter-ava","div11","disabled"]),s=t("img");s.src="http://reactmarathon-api.herokuapp.com/assets/mk/avatar/11.png",e.appendChild(s),document.querySelector(".parent").appendChild(e)}showHideChoosenCharacter(e,s){if(null===e){e=s.img;const a=t("img");a.src=e,document.querySelector(".warrior").innerHTML="",document.querySelector(".warrior").appendChild(a)}else e=null,document.querySelector(".warrior").innerHTML=""}chooseCharacterForPlayer(e,t){this.removeClasses(".fighter-ava","active"),e.target.classList.toggle("active"),localStorage.setItem("player1",JSON.stringify(t))}chooseCharacterForOpponent(t){const s=t[e(22)],a=document.querySelector(`.div${s.id}`);this.removeClasses(".fighter-ava","active-p2"),a.classList.toggle("active-p2"),localStorage.setItem("player2",JSON.stringify(s))}transitionScenes(e=".content",t=o,s=3e3){this.performSequentialAction(s).then((()=>(this.operateDoors(),s=5e3,this.performSequentialAction(s)))).then((()=>{this.insertHTMLcode(e,t);const a=document.querySelector(".control");return this.getArenaBackground(),a.addEventListener("submit",(e=>{e.preventDefault(),this.startRound()})),this.start(),s=1e3,this.performSequentialAction(s)})).then((()=>(this.operateDoors(),s=4e3,this.performSequentialAction(s)))).then((()=>{a({name:h.name},{dealType:"start",name:u.name});const e=document.querySelector(".fight__img");return l("../assets/sound/fight/mk3-09020.mp3"),setTimeout((()=>{e.classList.add("show")}),1500),setTimeout((()=>{e.classList.remove("show")}),2500),s=2e3,this.performSequentialAction(s)})).then((()=>{document.querySelector(".control").classList.add("show")})).catch((async()=>{await this.addRoster(),this.operateDoors()}))}getArenaBackground(){document.querySelector(".arenas").classList.add(`arena${e(5,1)}`)}performSequentialAction(e){return new Promise(((t,s)=>{setTimeout((()=>{t()}),e)}))}start=async()=>{const e=JSON.parse(localStorage.getItem("player1")),t=JSON.parse(localStorage.getItem("player2"));h=new r({...e,player:1,rootSelector:"arenas"}),u=new r({...t,player:2,rootSelector:"arenas"}),await document.querySelector(".arenas").appendChild(this.createPlayer(h)),await document.querySelector(".arenas").appendChild(this.createPlayer(u)),await document.querySelector(".arenas").appendChild(this.createReloadButton())};operateDoors=()=>{const e=document.querySelector(".wall_left"),t=document.querySelector(".wall_right");e.classList.toggle("open"),t.classList.toggle("open")};startRound=async()=>{const e=this.playerAttack(),t=await i.postAttackData("https://reactmarathon-api.herokuapp.com/api/mk/player/fight",e);t.player1.defence=e.defense,t.player1.name=h.name,t.player2.name=u.name,t.player1.player=h.player,t.player2.player=u.player,this.getRoundResult(t),this.determineWinner()&&this.declareMatchResult(this.determineWinner())};getRoundResult(e){[h,u].forEach((t=>{const s=1===t.player?u:h,n=1===s.player?u:h,r=e[`player${s.player}`],i=e[`player${n.player}`];r.hit===i.defence?(i.dealType="defense",n.showHitMsg(i),l(c(i.dealType)),a(r,i)):(i.dealType="hit",n.changeHP(r),n.renderHP(n.elHP()),n.showHitMsg(i),i.hp=n.hp,l(c(i.dealType)),a(r,i))}))}determineWinner(){let e;return 0===h.hp&&0===u.hp&&(e={name:"draw"}),!h.hp&&u.hp&&(e=u),!u.hp&&h.hp&&(e=h),e}declareMatchResult(e){const{name:t,player:s}=e,n=1===s?u:h;document.querySelector(".arenas").appendChild(this.showPlayerWins(t)),document.querySelector(`.char${s}`).src=p[t].winState,document.querySelector(`.char${n.player}`).src=p[t].loseState,console.log(document.querySelector(`.char${n}`));const r={dealType:"",hits:0};r.dealType="draw"!==t?"end":"draw",a({name:t},{name:n.name,dealType:r.dealType}),setTimeout((()=>{l(`./assets/sound/sound_wins/mk3-${p[t]}`)}),2e3);const i=document.querySelector(".reloadWrap .button"),o=document.querySelector("#Fight");i.style.display="block",o.disabled=!0}showPlayerWins(e){const s=t("div",["winsTitle"]);return s.innerText="draw"===e?"Double KILL!":`${e} WINS!`,s}createPlayer(e){const{player:s,hp:a,name:n,img:r}=e,i=t("div",[`player${s}`]),o=t("div",["progressbar"]),l=t("div",["life"]),c=t("div",["name"]),p=t("div",["character"]),d=t("img");d.classList.add(`char${s}`);const h=t("img");return l.style.width=`${a}%`,c.innerText=`${n}`,o.appendChild(l),o.appendChild(c),d.src=r,p.appendChild(d),p.appendChild(h),h.classList.add("bang",`fighter${s}`),i.appendChild(o),i.appendChild(p),i}enemyAttack=async()=>{const t=d[e(3)-1];return{hit:t,defense:d[e(3)-1],hitPoints:e(m[t])}};removeClasses(e,t){document.querySelectorAll(`${e}`).forEach((e=>{e&&e.classList.contains(t)&&e.classList.remove(t)}))}createReloadButton(){const e=t("div",["reloadWrap"]),s=t("button",["button"]);return s.style.display="none",s.innerText="RESTART",e.appendChild(s),s.addEventListener("click",(()=>{this.transitionScenes(".content",o,1e3)})),e}playerAttack(){const t={},s=document.querySelector(".control");for(let a of s)a.checked&&"hit"===a.name&&(t.value=e(m[a.value]),t.hit=a.value),a.checked&&"defense"===a.name&&(t.defense=a.value),a.checked=!1;return t}}).init()})();