// import { player1, player2 } from "./player.js";
import { createElement, getRandomNumber } from "./utils.js";

const LOGS = {
  start: {
    text: [
      "–ß–∞—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ [time], –∫–æ–≥–¥–∞ [player1] –∏ [player2] –±—Ä–æ—Å–∏–ª–∏ –≤—ã–∑–æ–≤ –¥—Ä—É–≥ –¥—Ä—É–≥—É.",
    ],
    recordSettings: ["rgba(9, 172, 9, 0.2)", "üî™"],
    audio: {
      firstPart: "",
      lastPart: " function () { }",
    },
  },
  end: {
    text: [
      "[time] - –†–µ–∑—É–ª—å—Ç–∞—Ç —É–¥–∞—Ä–∞ [playerWins]: [playerLose] - —Ç—Ä—É–ø",
      "[time] - [playerLose] –ø–æ–≥–∏–± –æ—Ç —É–¥–∞—Ä–∞ –±–æ–π—Ü–∞ [playerWins]",
      "[time] - –†–µ–∑—É–ª—å—Ç–∞—Ç –±–æ—è: [playerLose] - –∂–µ—Ä—Ç–≤–∞, [playerWins] - —É–±–∏–π—Ü–∞",
    ],
    recordSettings: ["rgba(9, 172, 9, 0.2)", "üíÄ"],
    audio: {
      firstPart: "./assets/sound/sound_wins/",
      lastPart: function () {
        return "victory.mp3";
      },
    },
  },
  hit: {
    text: [
      "[time] - [playerDefense] –ø—ã—Ç–∞–ª—Å—è —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –Ω–æ [playerKick] —Ä–∞–∑–±–µ–∂–∞–≤—à–∏—Å—å —Ä–∞–∑–¥—Ä–æ–±–∏–ª –∫–æ–ø—á–∏–∫–æ–º –ª–µ–≤–æ–µ —É—Ö–æ –≤—Ä–∞–≥–∞.",
      "[time] - [playerDefense] —Ä–∞—Å—Å—Ç—Ä–æ–∏–ª—Å—è, –∫–∞–∫ –≤–¥—Ä—É–≥, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ [playerKick] —Å–ª—É—á–∞–π–Ω–æ —Ä–∞–∑–¥—Ä–æ–±–∏–ª –≥—Ä—É–¥—å—é –≥—Ä—É–¥–∏–Ω—É –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.",
      "[time] - [playerDefense] –∑–∞–∂–º—É—Ä–∏–ª—Å—è, –∞ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick], –ø—Ä–æ—Å–ª–µ–∑–∏–≤—à–∏—Å—å, —Ä–∞–∑–¥—Ä–æ–±–∏–ª –∫—É–ª–∞–∫–æ–º –ø–∞—Ö –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.",
      "[time] - [playerDefense] —á–µ—Å–∞–ª <–≤—ã—Ä–µ–∑–∞–Ω–æ —Ü–µ–Ω–∑—É—Ä–æ–π>, –∏ –≤–Ω–µ–∑–∞–ø–Ω–æ –Ω–µ—É—Å—Ç—Ä–∞—à–∏–º—ã–π [playerKick] –æ—Ç—á–∞—è–Ω–Ω–æ —Ä–∞–∑–º–æ–∑–∂–∏–ª –≥—Ä—É–¥—å—é –ª–µ–≤—ã–π –±–∏—Ü–µ–ø—Å –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.",
      "[time] - [playerDefense] –∑–∞–¥—É–º–∞–ª—Å—è, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick] —Å–ª—É—á–∞–π–Ω–æ –≤–ª–µ–ø–∏–ª –≥—Ä—É–±—ã–π —É–¥–∞—Ä –∫–æ–ø—á–∏–∫–æ–º –≤ –ø–æ—è—Å –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.",
      "[time] - [playerDefense] –∫–æ–≤—ã—Ä—è–ª—Å—è –≤ –∑—É–±–∞—Ö, –Ω–æ [playerKick] –ø—Ä–æ—Å–Ω—É–≤—à–∏—Å—å –≤–ª–µ–ø–∏–ª —Ç—è–∂–µ–ª—ã–π —É–¥–∞—Ä –ø–∞–ª—å—Ü–µ–º –≤ –∫–∞–¥—ã–∫ –≤—Ä–∞–≥–∞.",
      "[time] - [playerDefense] –≤—Å–ø–æ–º–Ω–∏–ª —á—Ç–æ-—Ç–æ –≤–∞–∂–Ω–æ–µ, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick] –∑–µ–≤–Ω—É–≤, —Ä–∞–∑–º–æ–∑–∂–∏–ª –æ—Ç–∫—Ä—ã—Ç–æ–π –ª–∞–¥–æ–Ω—å—é —á–µ–ª—é—Å—Ç—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.",
      "[time] - [playerDefense] –æ—Å–º–æ—Ç—Ä–µ–ª—Å—è, –∏ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick] –º–∏–º–æ—Ö–æ–¥–æ–º —Ä–∞–∑–¥—Ä–æ–±–∏–ª —Å—Ç–æ–ø–æ–π –∞–ø–ø–µ–Ω–¥–∏–∫—Å —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.",
      "[time] - [playerDefense] –∫–∞—à–ª—è–Ω—É–ª, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick] –ø–æ–∫–∞–∑–∞–≤ –ø–∞–ª–µ—Ü, —Ä–∞–∑–º–æ–∑–∂–∏–ª –ø–∞–ª—å—Ü–µ–º –≥—Ä—É–¥—å —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.",
      "[time] - [playerDefense] –ø—ã—Ç–∞–ª—Å—è —á—Ç–æ-—Ç–æ —Å–∫–∞–∑–∞—Ç—å, –∞ –∂–µ—Å—Ç–æ–∫–∏–π [playerKick] –ø—Ä–æ—Å–Ω—É–≤—à–∏—Å—å —Ä–∞–∑–º–æ–∑–∂–∏–ª –∫–æ–ø—á–∏–∫–æ–º –ª–µ–≤—É—é –Ω–æ–≥—É –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.",
      "[time] - [playerDefense] –∑–∞–±—ã–ª—Å—è, –∫–∞–∫ –≤–Ω–µ–∑–∞–ø–Ω–æ –±–µ–∑—É–º–Ω—ã–π [playerKick] —Å–æ —Å–∫—É–∫–∏, –≤–ª–µ–ø–∏–ª —É–¥–∞—Ä –∫–æ–ª–µ–Ω–æ–º –≤ –ª–µ–≤—ã–π –±–æ–∫ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.",
      "[time] - [playerDefense] –ø–æ–ø–µ—Ä—Ö–Ω—É–ª—Å—è, –∞ –∑–∞ —ç—Ç–æ [playerKick] –º–∏–º–æ—Ö–æ–¥–æ–º —Ä–∞–∑–¥—Ä–æ–±–∏–ª –∫–æ–ª–µ–Ω–æ–º –≤–∏—Å–æ–∫ –≤—Ä–∞–≥–∞.",
      "[time] - [playerDefense] —Ä–∞—Å—Å—Ç—Ä–æ–∏–ª—Å—è, –∞ –≤ —ç—Ç–æ –≤—Ä–µ–º—è –Ω–∞–≥–ª—ã–π [playerKick] –ø–æ—à–∞—Ç–Ω—É–≤—à–∏—Å—å —Ä–∞–∑–º–æ–∑–∂–∏–ª –∫–æ–ø—á–∏–∫–æ–º –≥—É–±—ã –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.",
      "[time] - [playerDefense] –æ—Å–º–æ—Ç—Ä–µ–ª—Å—è, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick] —Ä–æ–±–∫–æ —Ä–∞–∑–º–æ–∑–∂–∏–ª –∫–æ–ª–µ–Ω–æ–º –ª–µ–≤—ã–π –≥–ª–∞–∑ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.",
      "[time] - [playerDefense] –æ—Å–º–æ—Ç—Ä–µ–ª—Å—è, –∞ [playerKick] –≤–ª–æ–º–∏–ª –¥—Ä–æ–±—è—â–∏–π —É–¥–∞—Ä –ø–ª–µ—á–æ–º, –ø—Ä–æ–±–∏–≤ –±–ª–æ–∫, –∫—É–¥–∞ –æ–±—ã—á–Ω–æ –Ω–µ –±—å—é—Ç –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.",
      "[time] - [playerDefense] –∫–æ–≤—ã—Ä—è–ª—Å—è –≤ –∑—É–±–∞—Ö, –∫–∞–∫ –≤–¥—Ä—É–≥, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ [playerKick] –æ—Ç—á–∞—è–Ω–Ω–æ —Ä–∞–∑–º–æ–∑–∂–∏–ª –ø–ª–µ—á–æ–º –º—ã—à—Ü—ã –ø—Ä–µ—Å—Å–∞ –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.",
      "[time] - [playerDefense] –ø—Ä–∏—à–µ–ª –≤ —Å–µ–±—è, –∏ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick] –ø—Ä–æ–≤–µ–ª —Ä–∞–∑–±–∏–≤–∞—é—â–∏–π —É–¥–∞—Ä –∫–∏—Å—Ç—å—é —Ä—É–∫–∏, –ø—Ä–æ–±–∏–≤ –±–ª–æ–∫, –≤ –≥–æ–ª–µ–Ω—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.",
      "[time] - [playerDefense] –ø–æ—à–∞—Ç–Ω—É–ª—Å—è, –∞ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick] —Ö–∏—Ö–∏–∫–∞—è –≤–ª–µ–ø–∏–ª –≥—Ä—É–±—ã–π —É–¥–∞—Ä –æ—Ç–∫—Ä—ã—Ç–æ–π –ª–∞–¥–æ–Ω—å—é –ø–æ –±–µ–¥—Ä–∞–º –≤—Ä–∞–≥–∞.",
    ],
    recordSettings: [
      "rgba(225, 13, 3, 0.2)",
      "‚ö°",
      '<img src="/assets/icons/11.gif" alt="üí£">',
    ],
    audio: {
      firstPart: "./assets/sound/hitsounds/mk3-00",
      lastPart: function () {
        return `${getRandomNumber(36, 10)}${getRandomNumber(1) * 5}.mp3`;
      },
    },
  },
  defense: {
    text: [
      "[time] - [playerKick] –ø–æ—Ç–µ—Ä—è–ª –º–æ–º–µ–Ω—Ç –∏ —Ö—Ä–∞–±—Ä—ã–π [playerDefense] –æ—Ç–ø—Ä—ã–≥–Ω—É–ª –æ—Ç —É–¥–∞—Ä–∞ –æ—Ç–∫—Ä—ã—Ç–æ–π –ª–∞–¥–æ–Ω—å—é –≤ –∫–ª—é—á–∏—Ü—É.",
      "[time] - [playerKick] –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª —Å–∏—Ç—É–∞—Ü–∏—é, –∏ –ø–æ—Ç–æ–º—É [playerDefense] –ø–æ—Å—Ç–∞–≤–∏–ª –±–ª–æ–∫ –Ω–∞ —É–¥–∞—Ä –ø—è—Ç–∫–æ–π –≤ –ø—Ä–∞–≤—É—é –≥—Ä—É–¥—å.",
      "[time] - [playerKick] –ø–æ—Ç–µ—Ä—è–ª –º–æ–º–µ–Ω—Ç –∏ [playerDefense] –ø–æ—Å—Ç–∞–≤–∏–ª –±–ª–æ–∫ –Ω–∞ —É–¥–∞—Ä –∫–æ–ª–µ–Ω–æ–º –ø–æ —Å–µ–ª–µ–∑–µ–Ω–∫–µ.",
      "[time] - [playerKick] –ø–æ—Å–∫–æ–ª—å–∑–Ω—É–ª—Å—è –∏ –∑–∞–¥—É–º—á–∏–≤—ã–π [playerDefense] –ø–æ—Å—Ç–∞–≤–∏–ª –±–ª–æ–∫ –Ω–∞ —Ç—ã—á–æ–∫ –≥–æ–ª–æ–≤–æ–π –≤ –±—Ä–æ–≤—å.",
      "[time] - [playerKick] —Å—Ç–∞—Ä–∞–ª—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ —É–¥–∞—Ä, –Ω–æ –Ω–µ–ø–æ–±–µ–¥–∏–º—ã–π [playerDefense] —É—à–µ–ª –≤ —Å—Ç–æ—Ä–æ–Ω—É –æ—Ç —É–¥–∞—Ä–∞ –∫–æ–ø—á–∏–∫–æ–º –ø—Ä—è–º–æ –≤ –ø—è—Ç–∫—É.",
      "[time] - [playerKick] –æ–±–º–∞–Ω—É–ª—Å—è –∏ –∂–µ—Å—Ç–æ–∫–∏–π [playerDefense] –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª —É–¥–∞—Ä —Å—Ç–æ–ø–æ–π –≤ —Å–æ–ª–Ω–µ—á–Ω–æ–µ —Å–ø–ª–µ—Ç–µ–Ω–∏–µ.",
      "[time] - [playerKick] –Ω–µ –¥—É–º–∞–ª –æ –±–æ–µ, –ø–æ—Ç–æ–º—É —Ä–∞—Å—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π [playerDefense] –æ—Ç–ø—Ä—ã–≥–Ω—É–ª –æ—Ç —É–¥–∞—Ä–∞ –∫—É–ª–∞–∫–æ–º –∫—É–¥–∞ –æ–±—ã—á–Ω–æ –Ω–µ –±—å—é—Ç.",
      "[time] - [playerKick] –æ–±–º–∞–Ω—É–ª—Å—è –∏ –∂–µ—Å—Ç–æ–∫–∏–π [playerDefense] –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª —É–¥–∞—Ä —Å—Ç–æ–ø–æ–π –≤ —Å–æ–ª–Ω–µ—á–Ω–æ–µ —Å–ø–ª–µ—Ç–µ–Ω–∏–µ.",
    ],
    recordSettings: [
      "rgba(7, 13, 225, 0.2)",
      "üöß",
      '<img src="/assets/icons/08.gif" alt="üîí">',
    ],
    audio: {
      firstPart: "./assets/sound/block/mk3-09",
      lastPart: function () {
        return `${getRandomNumber(4, 1)}.mp3`;
      },
    },
  },
  draw: {
    text: ["–ù–∏—á—å—è - —ç—Ç–æ —Ç–æ–∂–µ –ø–æ–±–µ–¥–∞!"],
    recordSettings: ["rgba(253, 216, 3, 0.3)", "ü§ù"],
    audio: {
      firstPart: "./assets/sound/wins/",
      lastPart: function () {
        return "draw.mp3";
      },
    },
  },
};

function generateLogs(
  { name: attackerName, value: hits },
  { name: defenderName, hp: defenderHP, dealType: typeStr }
) {
  const $CHAT = document.querySelector(".chat");
  const LOG_RECORD = createElement("p");
  let stringNum = 0;
  let logString = "";
  stringNum = getRandomNumber(LOGS[typeStr].text.length - 1);
  typeStr === "hit"
    ? (logString = `${LOGS[typeStr].text[stringNum]} - ${hits} - [${defenderHP}/100]`)
    : (logString = LOGS[typeStr].text[stringNum]);
  LOG_RECORD.innerHTML = ` ${LOGS[typeStr]["recordSettings"][1]} ${insertData(
                                                                              logString,
                                                                              attackerName,
                                                                              defenderName
                                                                            )}`;
  LOG_RECORD.style.background = LOGS[typeStr]["recordSettings"][0];
  $CHAT.insertAdjacentElement("afterbegin", LOG_RECORD);
}

function insertData(str, attackPl, defPl) {
  const RELACE_EXPR_1 = /\[player(1|Kick|Wins)\]/gi;
  const RELACE_EXPR_2 = /\[player(2|Defense|Lose)\]/gi;
  const LOG_RECORD_TIME = new Date().toLocaleTimeString();

  return str
    .replace(RELACE_EXPR_1, ` <span>${attackPl.toUpperCase()}</span>`)
    .replace(RELACE_EXPR_2, ` <span> ${defPl.toUpperCase()} </span> `)
    .replace("[time]", ` ‚åö ${LOG_RECORD_TIME} `);
}

export { generateLogs, LOGS };
